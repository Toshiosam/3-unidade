<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HashQuest: LaboratÃ³rio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="intro-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">ğŸ“š HashQuest: LaboratÃ³rio de Dados</div>
            
            <div class="intro-section">
                <div class="intro-header">Contexto Real</div>
                <p class="intro-p">
                    Grandes sistemas (como Bancos de Dados e Motores de Busca) utilizam <strong>Tabelas de DispersÃ£o (Hash Tables)</strong> para armazenar e recuperar informaÃ§Ãµes instantaneamente, calculando o endereÃ§o exato de um dado.
                </p>
            </div>

            <div class="intro-highlight">
                ğŸ› ï¸ <strong>O OBJETIVO:</strong> Esta ferramenta permite visualizar como diferentes algoritmos matemÃ¡ticos resolvem o problema da <strong>ColisÃ£o</strong> (quando dois itens disputam o mesmo espaÃ§o).
            </div>

            <div class="intro-section">
                <div class="intro-header">Roteiro de AnÃ¡lise:</div>
                <div class="intro-step"><span class="intro-icon">1ï¸âƒ£</span><span>Selecione um <strong>Algoritmo</strong> no menu lateral.</span></div>
                <div class="intro-step"><span class="intro-icon">2ï¸âƒ£</span><span>Adicione um <strong>Lote de Dados</strong> e observe.</span></div>
                <div class="intro-step"><span class="intro-icon">3ï¸âƒ£</span><span>Abra o <strong>RelatÃ³rio</strong> para ver a eficiÃªncia.</span></div>
                <div class="intro-step"><span class="intro-icon">ğŸ”„</span><span>Troque o Algoritmo para <strong>comparar</strong> com os mesmos dados (Replay AutomÃ¡tico).</span></div>
            </div>
            
            <button class="btn-start" id="btnStartIntro">INICIAR SIMULAÃ‡ÃƒO</button>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-title">ğŸ“„ RelatÃ³rio de EficiÃªncia</div>
            <div class="modal-subtitle">Dados da SessÃ£o Atual</div>
            
            <div class="report-row"><span>Algoritmo:</span> <span class="report-val" id="rep-algo">-</span></div>
            <div class="report-row"><span>Itens Inseridos:</span> <span class="report-val" id="rep-items">0</span></div>
            <div class="report-row"><span>Total de ColisÃµes:</span> <span class="report-val" id="rep-col" style="color:#ffca28">0</span></div>
            
            <div class="efficiency-box">
                <div style="font-size: 10px; color:#aaa;">DIAGNÃ“STICO</div>
                <div class="eff-score" id="rep-score">-</div>
                <div style="font-size: 11px; color:#666; margin-top:5px;" id="rep-desc"></div>
            </div>
            <button class="btn-close-rep" id="btnCloseReport">Fechar RelatÃ³rio</button>
        </div>
    </div>

    <div id="left-sidebar">
        <h2>
            ğŸ”® GRIMÃ“RIO DE HASH
            <button class="help-btn" id="btnHelp" title="Ver InstruÃ§Ãµes">?</button>
        </h2>
        
        <div class="control-group">
            <label>ğŸ“œ 1. FeitiÃ§o (Escolha o Algoritmo)</label>
            <select id="algoSelect">
                <option value="" disabled selected>-- SELECIONE --</option>
                <option value="CHAINING">Encadeamento (Listas)</option>
                <option value="LINEAR">Sondagem Linear (+1)</option>
                <option value="QUADRATIC">Sondagem QuadrÃ¡tica (+iÂ²)</option>
                <option value="DOUBLE">Hash Duplo (H2)</option>
            </select>
        </div>

        <div class="control-group">
            <label>ğŸ§ª 2. LaboratÃ³rio (Dados)</label>
            <button id="btnBatch" class="btn-batch" disabled>ğŸ² Adicionar Lote (10 Itens)</button>
            <button id="btnReport" class="btn-report" disabled>ğŸ“„ Ver RelatÃ³rio Atual</button>
        </div>

        <div class="control-group">
            <label>âš¡ 3. Ajustes Manuais</label>
            <button id="btnAddSingle" disabled>â• Add 1 Item Avulso</button>
            <button id="btnCollision" class="btn-collision" disabled>ğŸ’¥ Gerar ColisÃ£o ForÃ§ada</button>
            <button id="btnUndo" class="btn-undo" disabled>â†©ï¸ Desfazer Ãšltimo</button>
            <button id="btnClear" class="btn-clear">ğŸ—‘ï¸ Limpar Mesa</button>
        </div>
    </div>

    <div id="game-container">
        <canvas id="gameCanvas" width="900" height="700"></canvas>
    </div>

    <div id="right-sidebar">
        
        <div class="stats-box">
            <div class="stat-row"><span>Tamanho (N):</span> <span id="statSize" class="stat-val">10</span></div>
            <div class="stat-row"><span>Ocupados:</span> <span id="statItems" class="stat-val">0</span></div>
            <div class="stat-row"><span>Fator de Carga:</span> <span id="statLoad" class="stat-val">0.00</span></div>
            <div class="progress-bg"><div id="loadBar" class="progress-fill"></div></div>
            <div style="text-align: center; font-size: 10px; color: #666; margin-top: 5px;">Expande se > 0.7</div>
        </div>

        <div class="legend-box">
            <strong>ğŸ”¬ METODOLOGIA CIENTÃFICA:</strong><br>
            1. Selecione um <strong>Algoritmo</strong>.<br>
            2. Adicione um <strong>Lote</strong> e observe.<br>
            3. Abra o <strong>RelatÃ³rio</strong> manualmente.<br>
            4. Troque o algoritmo (os dados persistem).<br>
            5. Os itens reaparecem <strong>automaticamente</strong>.
        </div>

        <div id="log-header">ğŸ“ REGISTRO DE CÃLCULO</div>
        <div id="log-content">
            <div style="color: #555; text-align: center; margin-top: 20px;">
                Selecione um algoritmo para iniciar.
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>