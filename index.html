<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HashQuest: Terminal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="intro-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">ğŸ’¾ SYSTEM_BOOT: HashQuest</div>
            
            <div class="intro-section">
                <div class="intro-header">>> INICIALIZANDO SIMULADOR...</div>
                <p class="intro-p">
                    Bem-vindo ao terminal de visualizaÃ§Ã£o de memÃ³ria. Este sistema simula o comportamento interno de <strong>Tabelas Hash</strong> e resoluÃ§Ã£o de conflitos de dados.
                </p>
            </div>

            <div class="intro-highlight">
                âš¡ <strong>INSTRUÃ‡Ã•ES DE OPERAÃ‡ÃƒO:</strong>
                <div style="margin-top:10px; font-size: 14px; color: #ddd; font-family: monospace;">
                    1. Feche este terminal.<br>
                    2. No painel Ã  <strong>DIREITA</strong>, carregue um <strong>Protocolo (Algoritmo)</strong>.<br>
                    3. Injete dados usando <strong>"Injetar Lote"</strong>.<br>
                    4. Analise a alocaÃ§Ã£o de memÃ³ria no Grid Central.
                </div>
            </div>

            <button class="btn-start" id="btnStartIntro">ACESSAR SISTEMA</button>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-title">ğŸ“„ RelatÃ³rio de ExecuÃ§Ã£o</div>
            <div class="modal-subtitle">Log da SessÃ£o Atual</div>
            <div class="report-row"><span>Protocolo:</span> <span class="report-val" id="rep-algo">-</span></div>
            <div class="report-row"><span>Dados Injetados:</span> <span class="report-val" id="rep-items">0</span></div>
            <div class="report-row"><span>ColisÃµes Totais:</span> <span class="report-val" id="rep-col" style="color:#ff5555">0</span></div>
            <div class="efficiency-box">
                <div style="font-size: 10px; color:#aaa;">DIAGNÃ“STICO DE PERFORMANCE</div>
                <div class="eff-score" id="rep-score">-</div>
                <div style="font-size: 11px; color:#666; margin-top:5px;" id="rep-desc"></div>
            </div>
            <button class="btn-close-rep" id="btnCloseReport">FECHAR LOG</button>
        </div>
    </div>

    <div id="left-sidebar">
        <h2>
            ğŸ’¾ TERMINAL
            <button class="help-btn" id="btnHelp" title="Ajuda">?</button>
        </h2>

        <div class="mode-switch-container sandbox" id="modeSwitch">
            <div class="mode-slider"></div>
            <div class="mode-option opt-sb">ğŸ§ª Lab</div>
            <div class="mode-option opt-qs">âš”ï¸ Quest</div>
        </div>

        <div id="info-sandbox">
            <div class="stats-box">
                <div class="stat-row"><span>AlocaÃ§Ã£o (N):</span> <span id="statSize" class="stat-val">10</span></div>
                <div class="stat-row"><span>Ocupados:</span> <span id="statItems" class="stat-val">0</span></div>
                <div class="stat-row"><span>Load Factor:</span> <span id="statLoad" class="stat-val">0.00</span></div>
                <div class="progress-bg"><div id="loadBar" class="progress-fill"></div></div>
                <div style="text-align: center; font-size: 10px; color: #666; margin-top: 5px;">Resize trigger: > 0.7</div>
            </div>

            <div class="legend-box" id="algoInfo">
                <strong>ğŸ”¬ DOCS TÃ‰CNICAS:</strong><br>
                Selecione um protocolo Ã  direita para visualizar a documentaÃ§Ã£o tÃ©cnica e complexidade assintÃ³tica.
            </div>

            <div id="log-header">ğŸ“ SYSTEM_LOG</div>
            <div id="log-content">
                <div style="color: #6272a4; text-align: center; margin-top: 20px;">Aguardando input...</div>
            </div>
        </div>
    </div>

    <div id="game-container">
        
        <div id="info-quest" class="hidden">
            <div class="quest-card">
                <div class="quest-title">MONITOR DE SISTEMA</div>
                <div id="questText" class="quest-text">Inicie uma operaÃ§Ã£o...</div>
            </div>
        </div>

        <div id="quest-overlay" class="hidden">
            <button id="btnCenterQuest" class="btn-quest-large">ğŸ“œ INICIAR NOVA MISSÃƒO</button>
        </div>

        <canvas id="gameCanvas" width="900" height="600"></canvas>
    </div>

    <div id="right-sidebar">
        <div class="panel-header">ğŸ›ï¸ CONTROLES</div>

        <div id="controls-lab">
            <div class="control-group">
                <label>âš™ï¸ 1. Protocolo (Algoritmo)</label>
                <select id="algoSelect">
                    <option value="" disabled selected>-- SELECIONE --</option>
                    <option value="CHAINING">Encadeamento (Listas)</option>
                    <option value="LINEAR">Sondagem Linear (+1)</option>
                    <option value="QUADRATIC">Sondagem QuadrÃ¡tica (+iÂ²)</option>
                    <option value="DOUBLE">Hash Duplo (H2)</option>
                </select>
            </div>

            <div class="control-group">
                <label>ğŸ§ª 2. Experimentos</label>
                <button id="btnBatch" class="btn-batch" disabled>ğŸ² Injetar Lote (10)</button>
                <button id="btnReport" class="btn-report" disabled>ğŸ“„ Ver RelatÃ³rio</button>
            </div>

            <div class="control-group">
                <label>âš¡ 3. Ajustes Manuais</label>
                <button id="btnAddSingle" disabled>â• Item Avulso</button>
                <button id="btnCollision" class="btn-collision" disabled>ğŸ’¥ ForÃ§ar ColisÃ£o</button>
                <button id="btnUndo" class="btn-undo" disabled>â†©ï¸ Desfazer</button>
                <button id="btnClear" class="btn-clear">ğŸ—‘ï¸ Limpar MemÃ³ria</button>
            </div>
        </div>

        <div id="controls-quest" class="hidden">
            <div class="score-board">
                <span class="score-label">CREDITS (PONTUAÃ‡ÃƒO)</span>
                <div style="font-size: 24px; color: #f1fa8c;">ğŸª™ <span id="coinVal">0</span></div>
            </div>

            <div id="questFeedback" class="feedback-box hidden"></div>
            
            <div class="control-group">
                <label>âš”ï¸ Ferramentas de Debug</label>
                <button id="btnTestQuest" class="btn-test" disabled>ğŸ§ª Testar Algoritmo</button>
            </div>
            
            <div class="control-group">
                <label>Output Esperado:</label>
                <div id="quest-options-container">
                    <div style="font-size:11px; color:#6272a4; text-align:center; padding:10px; border:1px dashed #444;">
                        Inicie a missÃ£o para habilitar.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>