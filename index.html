<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HashQuest</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="intro-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-title">ğŸ“š HashQuest: LaboratÃ³rio de Dados</div>
            
            <div class="intro-section">
                <div class="intro-header">Contexto Real</div>
                <p class="intro-p">
                    Grandes sistemas utilizam <strong>Tabelas de DispersÃ£o (Hash Tables)</strong> para armazenar e recuperar informaÃ§Ãµes instantaneamente.
                </p>
            </div>
            <div class="intro-highlight">
                ğŸ› ï¸ <strong>O OBJETIVO:</strong> Visualizar como algoritmos matemÃ¡ticos resolvem o problema da <strong>ColisÃ£o</strong>.
            </div>
            <div class="intro-section">
                <div class="intro-header">Novo Layout:</div>
                <div class="intro-step"><span class="intro-icon">ğŸ‘ˆ</span><span><strong>ESQUERDA:</strong> Leia instruÃ§Ãµes, logs e perguntas.</span></div>
                <div class="intro-step"><span class="intro-icon">ğŸ‘‰</span><span><strong>DIREITA:</strong> Escolha algoritmos e clique nos botÃµes.</span></div>
            </div>
            <button class="btn-start" id="btnStartIntro">ENTENDI</button>
        </div>
    </div>

    <div id="report-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-title">ğŸ“„ RelatÃ³rio de EficiÃªncia</div>
            <div class="modal-subtitle">Dados da SessÃ£o Atual</div>
            <div class="report-row"><span>Algoritmo:</span> <span class="report-val" id="rep-algo">-</span></div>
            <div class="report-row"><span>Itens Inseridos:</span> <span class="report-val" id="rep-items">0</span></div>
            <div class="report-row"><span>Total de ColisÃµes:</span> <span class="report-val" id="rep-col" style="color:#ffca28">0</span></div>
            <div class="efficiency-box">
                <div style="font-size: 10px; color:#aaa;">DIAGNÃ“STICO</div>
                <div class="eff-score" id="rep-score">-</div>
                <div style="font-size: 11px; color:#666; margin-top:5px;" id="rep-desc"></div>
            </div>
            <button class="btn-close-rep" id="btnCloseReport">Fechar RelatÃ³rio</button>
        </div>
    </div>

    <div id="left-sidebar">
        <h2>
            ğŸ”® GRIMÃ“RIO
            <button class="help-btn" id="btnHelp" title="Ajuda">?</button>
        </h2>

        <div class="mode-switch-container sandbox" id="modeSwitch">
            <div class="mode-slider"></div>
            <div class="mode-option opt-sb">ğŸ§ª Lab</div>
            <div class="mode-option opt-qs">âš”ï¸ Quest</div>
        </div>

        <div id="info-sandbox">
            <div class="stats-box">
                <div class="stat-row"><span>Tamanho (N):</span> <span id="statSize" class="stat-val">10</span></div>
                <div class="stat-row"><span>Ocupados:</span> <span id="statItems" class="stat-val">0</span></div>
                <div class="stat-row"><span>Fator de Carga:</span> <span id="statLoad" class="stat-val">0.00</span></div>
                <div class="progress-bg"><div id="loadBar" class="progress-fill"></div></div>
                <div style="text-align: center; font-size: 10px; color: #666; margin-top: 5px;">Expande se > 0.7</div>
            </div>

            <div class="legend-box">
                <strong>ğŸ”¬ COMO UTILIZAR:</strong><br>
                1. Configure o Algoritmo na <strong>Direita</strong>.<br>
                2. Adicione Itens e observe a mesa.<br>
                3. Acompanhe o cÃ¡lculo no Log abaixo.<br>
                4. Troque o algoritmo para comparar (Replay).
            </div>

            <div id="log-header">ğŸ“ REGISTRO DE CÃLCULO</div>
            <div id="log-content">
                <div style="color: #555; text-align: center; margin-top: 20px;">Selecione um algoritmo...</div>
            </div>
        </div>

        <div id="info-quest" class="hidden">
            <div class="quest-card">
                <div class="quest-title">PERGAMINHO DE MISSÃƒO</div>
                <div id="questText" class="quest-text">Inicie uma missÃ£o para ver a pergunta aqui.</div>
            </div>
            
            </div>
    </div>

    <div id="game-container">
        
        <div id="quest-overlay" class="hidden">
            <button id="btnCenterQuest" class="btn-quest-large">ğŸ“œ INICIAR NOVA MISSÃƒO</button>
        </div>

        <canvas id="gameCanvas" width="900" height="700"></canvas>
    </div>

    <div id="right-sidebar">
        <div class="panel-header">ğŸ›ï¸ CONTROLES</div>

        <div id="controls-lab">
            <div class="control-group">
                <label>ğŸ“œ 1. FeitiÃ§o (Algoritmo)</label>
                <select id="algoSelect">
                    <option value="" disabled selected>-- SELECIONE --</option>
                    <option value="CHAINING">Encadeamento (Listas)</option>
                    <option value="LINEAR">Sondagem Linear (+1)</option>
                    <option value="QUADRATIC">Sondagem QuadrÃ¡tica (+iÂ²)</option>
                    <option value="DOUBLE">Hash Duplo (H2)</option>
                </select>
            </div>

            <div class="control-group">
                <label>ğŸ§ª 2. Experimentos</label>
                <button id="btnBatch" class="btn-batch" disabled>ğŸ² Adicionar Lote (10)</button>
                <button id="btnReport" class="btn-report" disabled>ğŸ“„ Ver RelatÃ³rio</button>
            </div>

            <div class="control-group">
                <label>âš¡ 3. Ajustes</label>
                <button id="btnAddSingle" disabled>â• Item Avulso</button>
                <button id="btnCollision" class="btn-collision" disabled>ğŸ’¥ ForÃ§ar ColisÃ£o</button>
                <button id="btnUndo" class="btn-undo" disabled>â†©ï¸ Desfazer</button>
                <button id="btnClear" class="btn-clear">ğŸ—‘ï¸ Limpar Mesa</button>
            </div>
        </div>

        <div id="controls-quest" class="hidden">
            <div class="score-board">
                <span class="score-label">PONTUAÃ‡ÃƒO</span>
                <div style="font-size: 24px; color: #ffd700;">ğŸª™ <span id="coinVal">0</span></div>
            </div>

            <div id="questFeedback" class="feedback-box hidden"></div>
            
            <div class="control-group">
                <label>âš”ï¸ Ferramentas</label>
                <button id="btnTestQuest" class="btn-test" disabled>ğŸ§ª Testar Algoritmo</button>
            </div>
            
            <div class="control-group">
                <label>Sua Resposta:</label>
                <div id="quest-options-container">
                    <div style="font-size:11px; color:#666; text-align:center; padding:10px; border:1px dashed #444;">
                        Use o botÃ£o central para iniciar.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>